<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>DSME</title>
		
		<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">  
		<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
		<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/js-conflux-sdk/dist/js-conflux-sdk.umd.min.js"></script>
		<script src="V2/js/hecorpc.js"></script>
		<script src="V2/js/confluxrpc.js"></script>
		<script src="V2/js/contract_cfx1.js"></script>
		<script src="V2/js/bootbox.min.js"></script>
		<link rel="stylesheet" type="text/css" href="V2/css/index.css"/>
		<script src="V2/js/index.js" type="text/javascript" charset="utf-8"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"/>
		<!-- æ»‘åŠ¨æŒ‰é’®css -->
		<link rel="stylesheet" type="text/css" href="./V2/css/index2.css"/>
	</head>
	<body>
	<!-- å¤´éƒ¨ -->
	<!-- top1 ä¸ºç½‘é¡µç«¯æ—¶å¯ç”¨çš„css -->
	<div class="container-fluid"  >
			<div class="row" style="background:#363433;height:40px;">
				<div class="col-xs-6 col-lg-5 col-lg-offset-1" style="padding-left:40px;margin-top:10px;">
						<ul class="list-inline">
							<li><img src="V2/images/TopTB.png" style="width:30px;height:30px;margin-top:-5px;"></li>
							<li><strong class="fontcolor8">DSME</strong></li>
						</ul>
				</div>
				<!-- å¤´éƒ¨å³ä¾§HECO+èœå•æ  -->
				<div class="col-xs-4 col-xs-offset-1 col-lg-3 col-lg-offset-3">
					    <div class="row">
					    	<div class="col-xs-4" style="margin-top:8px;">
					    		<button type="button" id="node_www" class="fontcolor9" style="width:75px;height:25px;border-radius:90.3px;border:none;">NOT</button>
					    	</div>
					    	<div class="col-xs-7" style="margin-top:8px;padding-left:60px;">
					    		<div class="dropdown">
									<!-- èœå•æ  -->
					    		    <span class="glyphicon glyphicon-align-justify dropdown-toggle fontcolor8" style="font-size:18px" id="dropdownMenu1" data-toggle="dropdown"></span>
					    		    <!-- èœå•æ ä¸‹æ‹‰å†…å®¹ -->
									<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1" style="min-width:95px;border-radius:12px; font-size:16px;margin-left:-47px;margin-top:9px;background:#000000CC;text-align:center">
					    		        <li role="presentation">
					    		            <a role="menuitem" style="color:#f5f5f7;" tabindex="-1" href="#">é¦–é¡µ</a>
					    		        </li>
					    		        <li role="presentation">
					    		            <a role="menuitem" style="color:#f5f5f7;" tabindex="-1" href="#">Dao</a>
					    		        </li>
					    		        <li role="presentation">
					    		            <a role="menuitem" style="color:#f5f5f7;" tabindex="-1" href="#">Defi</a>
					    		        </li>
					    		    </ul>
					    		</div>
					        </div>
					    </div>
				</div>
			</div>
	</div>
	<!-- è½®æ’­å›¾ -->
	<!-- è½®æ’­å›¾æ¨¡å— -->
	<div class="container-fluid" style="margin-top:3px">
		<div class="container">
			<div id="myCarousel" class="row carousel slide" data-ride="carousel">
			    <!-- è½®æ’­ï¼ˆCarouselï¼‰æŒ‡æ ‡ -->
			    <ol class="carousel-indicators">
			        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
			        <li data-target="#myCarousel" data-slide-to="1"></li>
			        <li data-target="#myCarousel" data-slide-to="2"></li>
			    </ol>   
			    <!-- è½®æ’­ï¼ˆCarouselï¼‰é¡¹ç›® -->
			    <div class="carousel-inner">
			        <div class="item active">
			            <img src="V2/images/loge1.png" alt="First slide">
			            <div class="carousel-caption"></div>
			        </div>
			        <div class="item">
			            <img src="V2/images/loge2.png" alt="Second slide">
			            <div class="carousel-caption"></div>
			        </div>
			        <div class="item">
			            <img src="V2/images/loge3.png" alt="Third slide">
			            <div class="carousel-caption"></div>
			        </div>
			    </div>
			    <!-- è½®æ’­ï¼ˆCarouselï¼‰å¯¼èˆª -->
			    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
			        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
			        <span class="sr-only">Previous</span>
			    </a>
			    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
			        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
			        <span class="sr-only">Next</span>
			    </a>
			</div>
		</div>
	</div>
	<!-- DAOç”Ÿæ€æ•°æ®å±•ç¤º -->
	<div class="container-fluid" style="margin-top:8px;">
		<div class="container fontcolor7" style="color:#f4f4f6;border-radius:12px;">
			<div class="row" style="text-align:center;margin-top: 18px;">
						<h4 style="color:#f4f4f6c2">æŒå¸åœ°å€(HECO&CONFLUX)</h4>
					</div>
					<div class="row" style="text-align:center;color:#a80077">
						<span>374</span>&nbsp;ä¸ª
					</div>
					<div class="row" style="text-align:center;">
						<h4 style="color:#f4f4f6c2">DSMEæµé€šé‡(HECO&CONFLUX)</h4>
					</div>
					<div class="row" style="text-align:center;color:#B3FFAB">
						<span>85,259.74</span>&nbsp;DSME
					</div>
					<!-- ç•™ç™½è¡Œ -->
					<div class="row" style="height:15px;">
						<!-- ç•™ç™½è¡Œ -->
					</div>
			</div>
		</div>
	</div>
	<!-- ç­¾åˆ°åŠŸèƒ½ -->
	<div class="container-fluid" style="margin-top:8px;">
		<div class="container fontcolor6"style="text-align:center;border-radius:12px;">
			<!-- ç›²ç›’ç©ºæŠ• -->
			<div class="row">
				<h3 style="color:#86a0a9">ç›²ç›’ç©ºæŠ•</h3>
			</div>
			<!-- ç›²ç›’ç©ºå¤´è§„åˆ™ -->
			<div class="row" style="margin-left: 250px;margin-top: -15px;">
				<button type="button"data-toggle="modal" class="fontcolor6 btn" data-target="#myModal1" style="border-radius:20px;background-color:#ead1ea40;outline:none;"><strong>ç©ºæŠ•è§„åˆ™</strong></button>
			</div>
			<!-- è§„åˆ™æ¨¡æ€æ¡† -->
			<div class="modal fade " id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog" >
					<div class="modal-content"style="background-color:#cecece;">
						<!-- æç¤ºæ¡†å¤´éƒ¨+å…³é—­ç¬¦å· -->
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" 
									aria-hidden="true">Ã—
							</button>
							<!-- æ ‡é¢˜å†…å®¹ -->
							<h4 class="modal-title" id="myModalLabel" style="text-align: center;">
								<strong>DSMEç›²ç›’ç©ºæŠ•è§„åˆ™</strong>
							</h4>
						</div>
						<!-- æ¨¡æ€æ¡†ä¸»è¦å†…å®¹ -->
						<div class="modal-body">
							<!-- è§„åˆ™å†…å®¹ -->
							<div class="row"style="width:92%;margin-left:14px;border-radius:10px;">					
								1ã€æµç¨‹ï¼šé“¾æ¥æ¿€æ´»-åŠ å…¥å¾®ä¿¡ç¾¤-å‘é€é’±åŒ…åœ°å€ã€‚ï¼ˆæš‚åœæ·»åŠ æ–°ç™½åå•ï¼Œå·²æœ‰ä¸å˜ï¼‰
								2ã€åˆçº§ç©ºæŠ•ã€ä¸­çº§ç©ºæŠ•æ¯24å°æ—¶å¯ä»¥é¢†å–ä¸€æ¬¡ã€‚
								3ã€ä¸­çº§ç©ºæŠ•Cé“¾æš‚æœªå¼€æ”¾ã€‚
								4ã€æ¯æ¬¡0.04-0.12cDSMEã€‚
								5ã€é‚€è¯·å¥–åŠ±:ä¸€çº§8%ï¼ŒäºŒçº§5%(æš‚åœé‚€è¯·å¼€é€šï¼Œå·²æœ‰å…³ç³»ä¸å˜)
								cDSMEåˆçº¦åœ°å€:<br>cfx:acayf79s2bdjn8hhrjkj4g2j75e44y9rja1prjy0a9ã€‚
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- åˆ†å‰²çº¿è¡Œ -->
			<!-- <div class="row"style="border-bottom:1px solid rgb(99, 111, 164);padding-bottom:10px"> -->
				<!-- åˆ†å‰²çº¿ -->
			<!-- </div> -->
			<div class="row" style="margin-top:10px;">
					<div class="col-xs-4" style="background-color:#6051902e;width:130px;text-align:center;border-radius:12px;left:30px;">
						<div class="row">
							<h4>åˆçº§ç©ºæŠ•</h4>
						</div>
						<div class="row">
							é¢†å–æ¬¡æ•°:&nbsp;<span id = "chu_ge" style="color:#7F00FF;">0</span>&nbsp;æ¬¡
						</div>
						<div class="row">
							å‚ä¸äººæ¬¡:&nbsp;<span id = "chu_all" style="color:#7303c0;">0</span>&nbsp;æ¬¡
						</div>
						<div class="row" style="margin-top:10px">
							<button id = "button_chuji" type="button" class="btn" style="border-radius:12px;width:70px;background-color:#ead1ea40">é¢†å–</button>
						</div>
						<!--ç•™ç™½è¡Œ-->
						<div class="row" style="height:10px">
						    <!--ç•™ç™½è¡Œ-->
						</div>
					</div>
					<!-- ä¸­çº§ç©ºæŠ•è¯¦æƒ… -->
					<div class="col-xs-4" style="background-color:#6051902e;width:130px;text-align:center;border-radius:12px;left:72px;">
						<div class="row">
							<h4>ä¸­çº§ç©ºæŠ•</h4>
						</div>
						<div class="row" >
							é¢†å–æ¬¡æ•°:&nbsp;<span id = "zhong_ge" style="color:#7F00FF;">0</span>&nbsp;æ¬¡
						</div>
						<div class="row">
							å‚ä¸äººæ¬¡:&nbsp;<span id = "zhong_all" style="color:#7303c0;">0</span>&nbsp;æ¬¡
						</div>
						
						<div class="row"style="margin-top:10px">
							<button id = "button_zhongji" type="button" class="btn" style="border-radius:12px;width:70px;background-color:#ead1ea40">é¢†å–</button>
						</div>
						<!--ç•™ç™½è¡Œ-->
						<div class="row" style="height:10px">
						    <!--ç•™ç™½è¡Œ-->
						</div>
					</div>
			</div>
			<!-- ç•™ç™½è¡Œ -->
			<div class="row" style="height: 30px;">
				<!-- ç•™ç™½è¡Œ -->
			</div>
		</div>
	</div>
	<!-- å•å¸è´¨æŠ¼åŠŸèƒ½ -->
	<div class="container-fluid">
		<div class="container fontcolor4"style="margin-top:8px;border-radius:20px;">
			<!-- DSMEå•å¸è´¨æŠ¼æ ‡é¢˜ -->
			<div class="row" style="text-align:center;">
				<h3 style="color:#86a0a9">DSPOOL CFX/FC LP</h3>
			</div>
			<!-- å•ç¬”è´¨æŠ¼å¤´éƒ¨ç¬¬ä¸€è¡Œ -->
			<div class="row" style="margin: 0 0;">
				<!-- ææ¡ˆä¿¡æ¯å›¾æ ‡+æ–‡å­— -->
				<div class="col-xs-4" style="padding:0px;margin-top:9px;">
					<ul class="list-inline">
						<li><img src="V2/images/TopTB.png" style="width:30px;height:30px;margin-top:-5px;"></span></li>
						<li><h4 style="color:#c8522c">CFX/FC</h4></li>
					</ul>
				</div>
				<!-- ææ¡ˆä¿¡æ¯æŠ˜å ç¬¦å· -->
				<div class="col-xs-3 col-xs-offset-5"style="left:15px;top:3px;">
					<button type="button" style="outline: none;" class="bt btn btn-link" data-toggle="collapse" data-target="#demo">
					    <span class="glyphicon glyphicon-chevron-down" style="color: red;"></span>
					</button>
				</div>
			</div>
			<!-- å•ç¬”è´¨å¤´éƒ¨å†…å®¹ -->
			<!-- Earned -->
			<div class="row">
				<div class="col-xs-4"style="color:gray;">
					Earned
				</div>
				<div class="col-xs-5 col-xs-offset-3" style="text-align:right;color:royalblue;">
					<strong><span id="lpShouyi">0.00000000</span>&nbsp;DSME</strong>
				</div>
			</div>
			<!-- APY -->
			<div class="row"style="color:gray;">
				<div class="col-xs-4">
					APY
				</div>
				<div class="col-xs-5 col-xs-offset-3"style="text-align:right;color: green;">
					<strong><span id="lpApy">0.00%</span></strong>
				</div>
			</div>
			<!-- Total Deposit -->
			<div class="row">
				<div class="col-xs-4"style="color:gray;">
					Total Deposit
				</div>
				<div class="col-xs-5 col-xs-offset-3"style="text-align:right;color:#ffd452;">
					<strong><span id="lpAll">0.00</span> LP</strong>
				</div>
			</div>
			<!--ç•™ç™½è¡Œ-->
			    <div class="row" style="height:15px">
			    </div>
			<!-- è¢«æŠ˜å çš„ææ¡ˆä¿¡æ¯å†…å®¹ -->
			<div id="demo" class="row collapse" style="margin:0 0;line-height:30px;">
				<div class="row">
					<div class="col-xs-4"style="color:#67B26F;">
						<strong style="color:#ACB6E5">Balance:</strong><br><span id="dsmeBanlance">-</span>&nbsp;DSME
					</div>
					<div class="col-xs-4 col-xs-offset-4"style="text-align:right;color:#4ca2cd;">
						<strong style="color:#ACB6E5">Balance:</strong><br><span id="cfxfcBanlance">-</span>&nbsp;CFX/FC
					</div>
				</div>
				<div class="row">
					<div class="container-fluid">
						<!-- æˆæƒæ•°é‡inputæ¡† -->
						<form action="" method="post" style="margin-left:30px;">
							<input id="approveValue" type="text" class="bt btn"style="outline: none;color:white;border-radius:25px;width:90%;height:50px;border:none;background-color:#f0f0f05c;" value="" placeholder=""/>
						</form>
						<!-- æ»‘åŠ¨è¿›åº¦æ¡ -->
						
						<!-- æˆæƒæŒ‰é’® -->
						<div class="row" style="margin-top:15px">
							<div class="container">
								<div class="row">
									<div class="col-xs-4 col-xs-offset-4">
										<button id="approve" type="button" class="btn-lg fontcolor1">æˆæƒLP</button>
									</div>
								</div>
							</div>
						</div>
						<!-- Depositedæ²‰ç§¯+Earned -->
						<div class="row">
							<!-- Depositedæ²‰ç§¯ -->
							<div class="col-xs-4"style="color:#4ca2cd;">
								<strong style="color:#74ebd5;">Deposited:</strong><br><span id="dcflBanlance">-</span>&nbsp;CFX/FC
							</div>
							<!-- Earned -->
							<div class="col-xs-8" style="text-align:right;color:#67B26F;">
								<strong style="color:#74ebd5;">BUFF:</strong><br><span id="lpBuff">0 </span>&nbsp;% 
							</div>
						</div>
						<!-- ç¡®è®¤è¾“å…¥æ¡†æ•°é‡ -->
						<!-- æˆæƒæ•°é‡inputæ¡† -->
						<form action="" method="post" style="margin-left: 30px;">
							<input id="changeValue" type="text" class="bt btn" style="outline: none;color:white;border-radius:25px;width:90%;height:50px;border:none;background-color:#f0f0f05c;"  value="" placeholder=""/>
						</form>
						<!-- æ»‘åŠ¨è¿›åº¦æ¡ -->
						<!-- æ’¤å›+è´¨æŠ¼ç¡®è®¤æŒ‰é’® -->
						<div class="row" style="margin-top:15px">
							<!-- Withdrawæ’¤å›æŒ‰é’® -->
							<div class="col-xs-4 col-xs-offset-1">
								<button id="withdraw" type="buttons" class="btn-lg fontcolor2">èµå›</button>
							</div>
							<!-- Claimè´¨æŠ¼æŒ‰é’® -->
							<div class="col-xs-4 col-xs-offset-2">
								<button id="pledge" type="button" class="btn-lg fontcolor3">è´¨æŠ¼</button>
							</div>
						</div>
					</div>
				</div>
				<!--ç•™ç™½è¡Œ-->
			    <div class="row" style="height:15px">
			    </div>
			</div>
		</div>
		<!-- //æŠ˜å å†…å®¹js -->
		<script>
		    $(document).ready(function(){
				$('#demo').collapse('hide');
		        $("#demo").on("hide.bs.collapse", function(){
		            $(".bt").html('<span class="glyphicon glyphicon-chevron-down" style="color: red;"></span>');
		        });
		        $("#demo").on("show.bs.collapse", function(){
		            $(".bt").html('<span class="glyphicon glyphicon-chevron-up" style="color: red;"></span>');
		        });
		    });
            
            bootbox.alert({
				size: "small",
				title: "2023/7.14ç¤¾åŒºå…¬å‘Š",
				message: "äº²çˆ±çš„ç¤¾åŒºæœ‹å‹ï¼Œä½ ä»¬å¥½ï¼æˆ‘ä»¬å·²äº2023/7/14æ—¥å‡çº§äº†å…¬å…±èŠ‚ç‚¹ï¼Œå¹¶ä¼˜åŒ–äº†è¿æ¥WEB3çš„æ ‡å‡†ï¼Œè§£å†³äº†å…¬å…±èŠ‚ç‚¹è®¿é—®å¤±è´¥é—®é¢˜ã€‚æˆ‘ä»¬çš„ç¤¾åŒºé‚®ä»¶ä¸ºadmin@dsme.spaceï¼Œå¦‚æœæœ‰ä»»ä½•ç–‘é—®è¯·é‚®ç®±æ²Ÿé€šï¼ŒæœŸå¾…æ¥ä¿¡ï¼ğŸ¤—",
			})
										
			//å…¬å…±æ•°æ®RPCèŠ‚ç‚¹è·å–
			//åˆçº§ç©ºæŠ•hecoé¢†å–äººæ¬¡
			KC_heco.methods.random().call().then(function(res){
				//åˆçº§ç©ºæŠ•confluxé¢†å–äººæ¬¡
				kongtouR.random().call({from:"0x1a781152365291daa5e06617e59019c7d7c8cc6b"}).then(function(response){
					$("#chu_all").html( Number(response[0])/1 + Number(res)/1 );
				})
			})
			//ä¸­çº§ç©ºæŠ•é¢†å–äººæ¬¡
			KZ_heco.methods.random().call().then(function(response){
				$("#zhong_all").html(Number(response)/2 + 1845.5 );
			})
			//lpè´¨æŠ¼æ€»é‡ä¸è´¨æŠ¼å¹´åç‡
			//lpæ˜¾ç¤º
			dspoolcflR.pledge_all().call().then(function(res){
				dspoolcflR.reward_day().call().then(function(rr){
					$("#lpAll").html(toDecimal2(res/ 10**18));
					$("#lpApy").html(toDecimal2((rr*18000)/(res)) + "%" );	
				})
			})
			
			//ä¸­çº§ç©ºæŠ•æœªå¼€æ”¾
			button_zhongji.onclick = function(){
				bootbox.alert({
					title: "<h4><strong style='color:gray;margin-left:5px'>ç©ºæŠ•æç¤º</strong></h4>",
					message: "æš‚æœªå¼€æ”¾",
				})
			}


			//è·å–è´¦æˆ·åœ°å€
			conflux.request({method: "cfx_requestAccounts"}).then(function(accounts){

			/*
			//DSPOOLç©ºæŠ•
			dskong.vip(accounts[0]).call({from:accounts[0]}).then(function(response){
				if(response == 0){
					chaxuncoin.requrieBanlance("0x831478f6e85d3481f123853065bc26660c699d81").call({from:accounts[0]}).then(function(response){
					if(response > 0 ){
						if(response >= 1000*10**18){
							a = 7.66
						}else if(response >= 100*10**18 && response < 1000*10**18){
							a = 3.66
						}else if(response >= 10*10**18 && response < 100*10**18){
							a = 2.66
						}else if(response < 10*10**18){
							a = 1.66
						}
						bootbox.confirm({
							size: "small",
							title: "ç©ºæŠ•é¢†å–",
							message: "æ„Ÿè°¢æ‚¨å¯¹Decology DSPOOLå…¬æµ‹æ”¯æŒï¼Œæˆ‘ä»¬ä¸ºæ‚¨å‡†å¤‡äº†ä¸€ä»½æœ€é«˜7.88cDSMEçš„ä¸“å±ç©ºæŠ• ï¸¿(ï¿£ï¸¶ï¿£)ï¸¿",
							callback: function(resultt) {
								if (resultt) {
									dskong.kong().sendTransaction({from:accounts[0]}).then(function(re){
										bootbox.alert({
											size: "small",
											title: "ç©ºæŠ•é¢†å–",
											message: a + "cDSMEå·²å‘æ”¾è‡³æ‚¨çš„é’±åŒ…ï¼Œè¯·ç­‰å¾…20såŒºå—ç¡®å®šã€‚",
										})
									})
								}
							}
						})
					}
				})	
				}
			})	
			*/
				//æŸ¥è¯¢cDSMEæ•°é‡
				chaxuncoin.requrieBanlance("0x8142f7eec04685f8e76a128d1b08eec9ad53ed40").call({from:accounts[0]}).then(function(response){
					$("#dsmeBanlance").html(toDecimal2(response/10**18));
				})
				//æŸ¥è¯¢CFX/FC LP æŒå¸æ•°é‡
				chaxuncoin.requrieBanlance("0x8df59e546877fc250f3d60934a3a4e1349810460").call({from:accounts[0]}).then(function(response){
					$("#cfxfcBanlance").html(toDecimal2(response/10**18));
				})
				//æŸ¥è¯¢è´¨æŠ¼CFX/FC LP æ•°é‡
				chaxuncoin.requrieBanlance("0x831478f6e85d3481f123853065bc26660c699d81").call({from:accounts[0]}).then(function(response){
					$("#dcflBanlance").html(toDecimal2(response/10**18));
					//åˆ·æ–°æ”¶ç›Š
					if(response > 0){
						//lpæ”¶ç›Š
						dspoolcfl.calculation().call({from:accounts[0]}).then(function(re){
							$("#lpShouyi").html(toDecimal8(re/10**18));
						})
						var accountInterval = setInterval(function() {
							//lpæ”¶ç›Š
							dspoolcfl.calculation().call({from:accounts[0]}).then(function(re){
								$("#lpShouyi").html(toDecimal8(re/10**18));
							})
						}, 3000);
					}
				})
				//æŸ¥è¯¢cfxä½™é¢
				confluxJS.getBalance(accounts[0]).then(function(response){
					$("#cfxBanlance").html(toDecimal2(response/10**18));
				})

				

				//æ˜¾ç¤ºç½‘ç»œ
				$("#node_www").html( "CONFLUX" );
				
				//åˆçº§ç©ºæŠ•ä¸ªäººé¢†å–æ¬¡æ•°
				kongtouR.playmap(accounts[0]).call({from:accounts[0]}).then(function(resu) {
					if( resu[0].length == 0 ){
					$("#chu_ge").html(0);
					}else{
					$("#chu_ge").html(resu[1]);
					}
				})

				//BUFF
				//ä¸ªäººå±æ€§
				system.playerMap(accounts[0]).call({from:accounts[0]}).then(function(resul) {
					system.playersMap(resul).call({from:accounts[0]}).then(function(resu) {
						//$("#sys_level").html("ç”Ÿæ€ç­‰çº§ï¼š" + resu[3]);
						switch(resu[3][0]){
							case 0:$("#lpBuff").html("0" );break;
							case 1:$("#lpBuff").html("1" );break;
							case 2:$("#lpBuff").html("2");break;
							case 3:$("#lpBuff").html("3");break;
						}
					});
				});

				//é‚€è¯·ç 
				var a = 1000;
				var aherf = window.location.href;

				//åˆçº§ç©ºæŠ•æ¿€æ´»
				for(var i =  0 ;i<100;i++){
					if(aherf[i] == "i"){
						if(aherf[i+1] == "d"){
							a = aherf[i+3] + aherf[i+4] + aherf[i+5] + aherf[i+6];
							system.playerMap(accounts[0]).call().then(function(resu) {
								if(resu == 0){
									bootbox.confirm({
										size: "small",
										title: "èµ„æ ¼æ¿€æ´»",
										message: "æ‚¨çš„å¥½å‹èµ é€æ‚¨åˆçº§ç©ºæŠ•èµ„æ ¼ï¼Œç‚¹å‡»OKç«‹åˆ»æ¿€æ´»",
										callback: function(re){
											if(re){
												system.registerforplayer("Dplayer",a).sendTransaction({from:accounts[0]}).then(function(result){
													if(result){
														bootbox.alert({
															size: "small",
															title: "æ¿€æ´»æç¤º",
															message: "æ¿€æ´»æˆåŠŸï¼Œè¯·ç«‹å³åŠ å…¥ç¾¤èŠï¼Œå¼€å¯ç©ºæŠ•é¢†å–",
														})
													}},function(){
														bootbox.alert({
															size: "small",
															title: "æ¿€æ´»æç¤º",
															message: "æ¿€æ´»å¤±è´¥",
														})
													}	
												)
											}
										}
									})
								}
							})
						}
					}
				}

				//æˆæƒæ•°é‡
				approve.onclick = function(){
					var value = $("#approveValue").val();
					dsmetoken.approve('0x8ee6088fd06e20022e4e38c6587b391596c1959b',value*10**18).sendTransaction({from:accounts[0]}).then(function(r){
						bootbox.alert({
							size: "small",
							title: "äº¤æ˜“æç¤º",
							message:"æˆæƒæˆåŠŸ,è¯·ç­‰å¾…20s,åŒºå—å®Œæˆç¡®å®šåå†è¿›è¡Œè´¨æŠ¼",
						})
					})
				}

				//åˆçº§ç©ºæŠ•é¢†å–
				button_chuji.onclick = function(){
					system.playerMap(accounts[0]).call().then(function(resul) {
						if (resul > 0) {
							kongtou.playmap(accounts[0]).call().then(function(resu) {
								if (new Date().getTime() / 1000 - resu[0] >= 86400){											
									kongtou.sign().sendTransaction({from:accounts[0]}).then(function(){
										kongtou.playmapping(accounts[0]).call().then(function(response){
											if(response[0].length == 0){
												bootbox.alert({
												size: "small",
												title: "ç©ºæŠ•æç¤º",
												message:"æ­å–œæ‚¨é¢†å–æˆåŠŸ",
												callback:function(){}
											})
											}else{
											bootbox.alert({
												size: "small",
												title: "ç©ºæŠ•æç¤º",
												message:"æ­å–œæ‚¨é¢†å–æˆåŠŸï¼Œæœ¬æ¬¡ç©ºæŠ•å…¬å…±åŸºç¡€ç³»æ•°Absï¼š" + response[0]/10 + ",ç©ºæŠ•éšæœºç³»æ•°Nï¼š" + response[3]/10 +
												",ç­‰çº§åŠ æˆLsï¼š" + response[4] + "%,å…±è·å¾—å¥–åŠ± = Abs * N *(1+Ls) = " + response[2]/10**18 + " DSME" ,
												callback:function(){}
											})
											}
										})
									},function(){
										bootbox.alert({
											size: "small",
											title: "ç©ºæŠ•æç¤º",
											message: "äº¤æ˜“å¤±è´¥ï¼Œè¯¦æƒ…è¯·è”ç³»admin@dsme.spaceå¤„ç†",
										})
										}
									)																														
								} else {
									bootbox.alert({
										size: "small",
										title: "ç©ºæŠ•æç¤º",
										message: "<p>ä¸Šæ¬¡é¢†å–æ—¶é—´ï¼š" + getLocalTime(resu[
												0]) +
											",</p><p>Â è¿˜æœªåˆ°é¢†å–æ—¶é—´å“¦</p>",
									})
								}
							})
						} else {
							bootbox.alert({
										size: "small",
										title: "ç©ºæŠ•æç¤º",
										message: "è¯·å®Œæˆæ¿€æ´»åé¢†å–ç©ºæŠ•",
									})
						}
					})
				}	

				//è´¨æŠ¼lp
				pledge.onclick = function(){
					var value = $("#changeValue").val();
					if(new Date().getTime() / 1000 < 1646485200){
						bootbox.alert({
							size: "small",
							title: "è´¨æŠ¼æç¤º",
							message: "å…¬æµ‹å·²ç»ç»“æŸï¼Œè´¨æŠ¼æ­£å¼ä¸Šçº¿æ—¶é—´ä¸ºåŒ—äº¬æ—¶é—´ï¼š2022.3.5 21:00:00ï¼Œå·²å‚ä¸è´¨æŠ¼çš„ç”¨æˆ·æ— éœ€æ“ä½œã€‚",
						
							})
					}else{
						dspoolcfl.pledge(value * 10**18).sendTransaction({from:accounts[0]}).then(function(r){
							bootbox.alert({
								size: "small",
								title: "äº¤æ˜“æç¤º",
								message: "è´¨æŠ¼æˆåŠŸ",
							})
							},function(r){
							bootbox.alert({
								size: "small",
								title: "äº¤æ˜“æç¤º",
								message: "è´¨æŠ¼å¤±è´¥",
							})
						})
					}
				}

				//æ’¤å›
				withdraw.onclick = function (){
					var value = $("#changeValue").val();
					dspoolcfl.withdrawPledge(value * 10**18).sendTransaction({from:accounts[0]}).then(function(r){
						bootbox.alert({
							size: "small",
							title: "äº¤æ˜“æç¤º",
							message: "æ’¤å›æˆåŠŸ",
						})
						},function(r){
						bootbox.alert({
							size: "small",
							title: "äº¤æ˜“æç¤º",
							message: "æ’¤å›å¤±è´¥",
						})
					})	
				}				
			})	
		</script>
		
		
	</div>
	<!-- ç”Ÿæ€ç®€ä»‹ -->
	<div class="container-fluid" style="margin-top:8px;">
		<div class="container fontcolor5"style="text-align:center;border-radius:12px;">
			<div class="row" style="text-align:center;margin-top:10px">
				<h4 style="color:#86a0a9">DSMEåº”ç”¨åœºæ™¯</h4>
			</div>
			<div class="row" style="margin-top:10px">
			    <!--é”€æ¯å›æ”¶-->
				<div class="col-xs-4">
					<img src="V2/images/xiaohui.png" style="width:25px"><br/>
					<div class="row" style="height:7px">
					    <!--ä¸Šä¸‹ç©ºç™½é—´éš™-->
					</div>
					<strong><span>å›æ”¶é”€æ¯</span> </strong>
					<p style="font-size:10px">ç”¨äºå›æ”¶å¹¶é”€æ¯DSME</p>
				</div>
				<!--å¥–åŠ±æ¨¡å—-->
				<div class="col-xs-4">
					<img src="V2/images/jiangli.png" style="width:25px"><br/>
					<div class="row" style="height:5px">
					    <!--ä¸Šä¸‹ç©ºç™½é—´éš™-->
					</div>
					<strong><span>å¥–åŠ±</span> </strong>
					<p style="font-size:10px">è´¨æŠ¼DSMEå¥–åŠ±</p>
				</div>
				<!--DAOæ¨¡å—-->
				<div class="col-xs-4">
					<img src="V2/images/dao.png" style="width:25px"><br/>
					<div class="row" style="height:5px">
					    <!--ä¸Šä¸‹ç©ºç™½é—´éš™-->
					</div>
					<strong><span>DAO</span> </strong>
					<p style="font-size:10px">ç¤¾åŒºææ¡ˆåŠææ¡ˆ</p>
				</div>
				<!--ç•™ç™½è¡Œ-->
				<div class="row" style="height:50px">
				    <!--ç•™ç™½è¡Œ-->
				</div>
			</div>
		</div>
		<!--ç•™ç™½è¡Œ-->
				<div class="row" style="height:50px">
				    <!--ç•™ç™½è¡Œ-->
				</div>
	</div>
	</body>
</html>
